# ==============================================
# Tadam Platform - Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ==============================================
# Database (PostgreSQL)
# ==============================================
POSTGRES_USER=tadam
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=tadam
POSTGRES_PORT=5432

# ==============================================
# Cache (Redis)
# ==============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ==============================================
# Search (Meilisearch)
# ==============================================
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_MASTER_KEY=CHANGE_ME_RANDOM_32_CHARS
MEILISEARCH_PORT=7700

# ==============================================
# Storage (MinIO / S3)
# ==============================================
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD
MINIO_USE_SSL=false
MINIO_BUCKET=tadam-media
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001

# Production: Use S3 or Cloudflare R2
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_BUCKET=tadam-production

# ==============================================
# Strapi CMS
# ==============================================
STRAPI_PORT=1337
HOST=0.0.0.0
NODE_ENV=production

# Database Connection
DATABASE_CLIENT=postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=${POSTGRES_DB}
DATABASE_USERNAME=${POSTGRES_USER}
DATABASE_PASSWORD=${POSTGRES_PASSWORD}
DATABASE_SSL=false

# Strapi Secrets (Generate with: openssl rand -base64 32)
ADMIN_JWT_SECRET=CHANGE_ME_RANDOM_SECRET
APP_KEYS=CHANGE_ME_KEY1,CHANGE_ME_KEY2,CHANGE_ME_KEY3,CHANGE_ME_KEY4
API_TOKEN_SALT=CHANGE_ME_RANDOM_SECRET
ENCRYPTION_KEY=CHANGE_ME_RANDOM_SECRET
TRANSFER_TOKEN_SALT=CHANGE_ME_RANDOM_SECRET
JWT_SECRET=CHANGE_ME_RANDOM_SECRET

# ==============================================
# Payment Gateway (PhonePe)
# ==============================================
PHONEPE_MERCHANT_ID=YOUR_MERCHANT_ID
PHONEPE_SALT_KEY=YOUR_SALT_KEY
PHONEPE_SALT_INDEX=1
PHONEPE_BASE_URL=https://api-preprod.phonepe.com/apis/pg-sandbox
# Production: https://api.phonepe.com/apis/hermes
PHONEPE_CALLBACK_URL=https://yourdomain.com/api/phonepe/webhook
PHONEPE_REDIRECT_URL=https://yourdomain.com/account/membership/success

# ==============================================
# Editorial AI (OpenRouter)
# ==============================================
EDITORIAL_AI_BASE_URL=https://openrouter.ai/api/v1
EDITORIAL_AI_API_KEY=YOUR_OPENROUTER_API_KEY
EDITORIAL_AI_MODEL=google/gemini-2.0-flash-001:free
EDITORIAL_COMPLIANCE_BASE_URL=https://openrouter.ai/api/v1
EDITORIAL_COMPLIANCE_API_KEY=YOUR_OPENROUTER_API_KEY
EDITORIAL_COMPLIANCE_MODEL=google/gemini-2.0-flash-001:free

# ==============================================
# Monitoring & Analytics
# ==============================================
# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=production

# Plausible (Analytics)
PLAUSIBLE_DOMAIN=yourdomain.com
PLAUSIBLE_SCRIPT_URL=https://plausible.io/js/script.js

# ==============================================
# Frontend (Nuxt)
# ==============================================
NUXT_PORT=3000
NUXT_PUBLIC_API_URL=http://cms:1337
NUXT_PUBLIC_MEILISEARCH_URL=http://meilisearch:7700
NUXT_PUBLIC_MEDIA_URL=http://localhost:9000/tadam-media
NUXT_PUBLIC_PLAUSIBLE_DOMAIN=${PLAUSIBLE_DOMAIN}
NUXT_PUBLIC_PLAUSIBLE_SCRIPT_URL=${PLAUSIBLE_SCRIPT_URL}
NUXT_PUBLIC_SENTRY_DSN=${SENTRY_DSN}
NUXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=${SENTRY_TRACES_SAMPLE_RATE}

# Production Frontend URLs
# NUXT_PUBLIC_API_URL=https://api.yourdomain.com
# NUXT_PUBLIC_MEILISEARCH_URL=https://search.yourdomain.com
# NUXT_PUBLIC_MEDIA_URL=https://cdn.yourdomain.com

# ==============================================
# Cron Configuration
# ==============================================
MEMBERSHIP_REMINDER_CRON=0 7 * * *
CRON_TZ=Asia/Kolkata

# Set to 'off' to disable cron tasks
# MEMBERSHIP_REMINDER_CRON=off

# ==============================================
# Feed Configuration
# ==============================================
FEED_CACHE_TTL=120

# ==============================================
# Security
# ==============================================
CORS_ORIGIN=http://localhost:3000,https://yourdomain.com
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# ==============================================
# OAuth Providers (Optional)
# ==============================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=

# ==============================================
# Email (Optional - for future use)
# ==============================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com

# ==============================================
# Additional Services
# ==============================================
# Cloudflare R2 (for production media storage)
# R2_ACCOUNT_ID=
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET=tadam-production
# R2_PUBLIC_URL=https://cdn.yourdomain.com
